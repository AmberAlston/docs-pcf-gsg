---
title: Pivotal CF Getting Started (v.0.3.1)
---

## <a id='requirements'></a>Requirements ##

* vSphere 5.0, 5.1, 5.5. (**Recommended**: 5.1)
* vSphere editions: standard and above
* vSphere user privileges to create VMs, disk paths, and VM folders
* Ability to create a wildcard DNS record to point to your router or load balancer
* No DHCP on the network: DHCP prevents static IP addresses from being re-allocated
* A host with hardware virtualization turned off
* Shared storage input/output operations per second (IOPS) at least 10,000
* Twice as many available IPs as instances
* Capacity for the following virtual machines:

| **INSTANCES**        | **VM**        | **RAM (GB)** | **DISK (GB)**  | **CPU**  |
| :-------- | :-------- | :------- | :----------- | :-------- |
| 1 | NATS | 1 | 10 | 1 |
| 1 | Health Manager | 3 | 36 | 1 |
| 1 | NFS Server | 1 | 100 | 1 |
| 1 | Cloud Controller Database | 1 | 4 | 1 |
| 1 | Cloud Controller | 1 | 2 | 1 |
| 1 | Router | 1 | 2 | 1 |
| 1 | Syslog | 1 | 10 | 1 |
| 1 | Collector | 1 | 2 | 1 |
| 1 | UAA Database | 1 | 10 | 1 |
| 1 | UAA | 1 | 3 | 1 |
| 1 | SAML Login | 1 | 3 | 1 |
| 1 | Console Database | 1 | 3 | 1 |
| 1 | DEA | 16 | 11 | 2 |
| 1 |Loggregator Server | 1 | 2 | 1 |
| 1 |Loggregator Router | 1 | 2 | 1 |
| 6 | Compilation | 1 | 4 | 2 |
|**21**|**TOTALS**|**33**|**204**|**18**|

## <a id='deploy_vm'></a>Deploying the Installation Virtual Machine ##


**Goal**: Create a virtual machine to install and manage Pivotal CF on vSphere. You will install Pivotal CF in a later section.

1. Refer to the [Known Issues](#known_issues) section before getting started.
2. Download the Pivotal CF .ova file.
3. Login to vCenter.
4. Select the **VM and Templates** view.

 <%= image_tag("guide/vm_template_view.png") %>
5. Right click on your datacenter and select **New Folder**.

 <%= image_tag("guide/new_folder.png") %>

6. Name the folder "Pivotal CF" and select it.

 <%= image_tag("guide/folder_name.png") %>

7. Select **File > Deploy OVF Template**.

 <%= image_tag("guide/deploy_ova.png") %>

8. Select the .ova file and click **Next**.

 <%= image_tag("guide/next.png") %>

9. Review the product details and click **Next**.
10. Accept the license agreement and click **Next**.
10. Name the virtual machine and click **Next**.

 <%= image_tag("guide/vm_name.png") %>

 **Note**: The selected folder is the one you created.

11. Select a vSphere cluster and click **Next**.

 <%= image_tag("guide/anchovy-cluster.png") %>

12. Select a resource pool and click **Next**.

12. Select a host and click **Next**.

 **Note**: Hardware virtualization must be off for the host you select.

 <%= image_tag("guide/host.png") %>

13. Select a storage destination and click **Next**.

 <%= image_tag("guide/storage.png") %>

14. Select a disk format and click **Next**.

 <%= image_tag("guide/disk_format.png") %>

15. Select a network and click **Next**.

 <%= image_tag("guide/network.png") %>

16. Enter network information and passwords for the VM admin user and click **Next**.

 **Note**: The IP Address you enter will be the location of the Pivotal CF interface.

 <%= image_tag("guide/vm_admin.png") %>

17. Check the **Power on after deployment** checkbox and click **Finish**. Once the VM boots, the interface is available at the IP address you specified.

## <a id='install_cf'></a>Installing Cloud Foundry ##

**Goal**: Install Cloud Foundry via a web application running in the VM you just deployed.

1. Browse to the interface at the IP address you specified above.

 <%= image_tag("guide/pivotal_cf.png") %>

1. Create a **User name** and **Password**.

 **Note**: Save your password in a backed-up location. If you lose your password, your installation will be unmanageable.

1. Under VMware vSphere, click **Configure**.

 <%= image_tag("guide/pill_vsphere.png") %>

1. Enter your vCenter IP and credentials and click **Save**.

 <%= image_tag("guide/vcenter_cred.png") %>

 **Note**: This user must have create/delete privileges for VMs and folders.

1. Select **vSphere configuration**, specify the installation resources, and click **Save**.

 <%= image_tag("guide/config_vcenter.png") %>

1. Select **Network configuration**, enter the Pivotal CF IP ranges, DNS, and gateway settings, and click **Save**. The Pivotal CF VMs will use the **IP Range** you specify. **Reserved IP Ranges** are blacklisted from the installation.

 <%= image_tag("guide/config_network.png") %>

1. Select **NTP servers**, enter a comma-delimited list of time server addresses, and click **Save**.

 <%= image_tag("guide/ntp_servers.png") %>

1. Click **Back to Install** to return to the **Install** page.

1. Click **Add a new product**.

 <%= image_tag("guide/add_prod.png") %>

1. Under Runtime, click **Add**.

 <%= image_tag("guide/pill_runtime.png") %>

1. Enter two domains for your Cloud Controller installation and click **Save**. The system domain is used for targeting and pushing apps to Cloud Foundry. The application domain is used for serving apps. Set up wildcard DNS records for these domains as described in the next step.

 <%= image_tag("guide/cloud_cont.png") %>

1. Select **Router** and enter an IP address. The wildcard DNS records should point to this IP address or to a load balancer.

 <%= image_tag("guide/router.png") %>

1. Select **SAML Login** and enter the URL of an SSO appliance to connect to Active Directory servers in your organization. Cloud Foundry's User Account and Authentication server uses this address. For more information about configuring an SSO appliance, refer to the SSO Appliance topic.

 <%= image_tag("guide/saml_login.png") %>

1. Select **Console**, enter your reply-to and SMTP email information, and click **Save**. The console uses these settings to send invitations and confirmations to console users.

 <%= image_tag("guide/console.png") %>

1. Click **Back to Install** to return to the **Install** page.
15. Under MySQL Dev, click **Add**.

 <%= image_tag("guide/pill_mysql.png") %>

1. Configure MySQL or keep the default values, then click **Back to Install** to return to the **Install** page.
1. Click **Install**.

 <%= image_tag("guide/install.png") %>

1. Your Pivotal CF installation begins deploying.

 <%= image_tag("guide/deploy_prog.png") %>

1. When the deployment is finished, a success message appears.

 <%= image_tag("guide/deploy_success.png") %>

 **Note**: On the recommended hardware infrastructure, deployment should take less that one hour and require no user intervention.

## <a id='use_console'></a>Using the Cloud Foundry Console ##

The Cloud Foundry Console is a tool to help manage organizations, users, applications, and applications spaces. Use the following steps to login and invite users to the console.

1. Browse to http://console.(your-app-domain.com). Refer to **Runtime > Configuration > Console** if you forget your app domain.
2. Login to the console using the UAA admin and password. Refer to **Runtime > Credentials** for this login information.

 <%= image_tag("guide/uaa_login.png") %>

3. You will see the console org, which contains the console application information.

 <%= image_tag("guide/console_org.png") %>

4. Select **ORG: Console > Create New Organization**.

 <%= image_tag("guide/create_org.png") %>

5. Name your org, check the **Terms of Service** checkbox, and click **Create**.

 <%= image_tag("guide/name_org.png") %>

6. Select **Users**.

 <%= image_tag("guide/select_users.png") %>

7. Click **Add**.

 <%= image_tag("guide/add.png") %>

8. Invite a new user to join your org. If your SMTP server is configured correctly (see **Runtime > Configure > Console**), the user will receive a confirmation email.

  **Note**: In Pivotal CF version 0.3.0, the new user will get a 500 error after confirming and creating their password. Ignore this error. The error is resolved in Pivotal CF version 0.3.1.

## <a id='target'></a>Target Cloud Foundry ##

The next step is to use the **cf** tool to target your Cloud Foundry installation. Make sure you have installed the **cf** tool according to the instructions on [docs.cloudfoundry.com|http://docs.cloudfoundry.com/docs/using/managing-apps/cf/index.html].

1. Open a terminal on a Mac or *nix computer.
2. Login to your Cloud Controller by targeting 'api' followed by the system domain. Refer to **Runtime > Configure > Domains** if you do not remember this domain.

 ```
 $ cf target api.your.domain
 $ cf login admin
 Password> ***********
 ```

  **Note**: Refer to **Runtime > Credentials** for the UAA admin and password. You can also use the user that you created in the console, or create another user with the create-user command.

3. Switch to the org and space you created in the Console.

  ```
  cf target -o my-awesome-org
  Switching to organization my-awesome-org... OK
  1: development
  2: production
  3: staging
  Space> 1
  Switching to space development... OK

  Target Information (where will apps be pushed):

  CF instance: http://api.yourdomain (API version: 2)
  user: admin
  target app space: development (org: my-awesome-org)
  ```

4. Switch to the directory of an application you would like to push to Cloud Foundry.

 ```
 $ cd someapp
 ```

5. Push the app to Cloud Foundry.

 ```
 $ cf push someapp
 ```

  Refer to the Cloud Foundry documentation at [docs.cloudfoundry.com](http://docs.cloudfoundry.com/docs/using/managing-apps/cf/)] for an overview and examples of the cf command line tool.

## <a id='eclipse'></a>Cloud Foundry Eclipse Plugin ##

The Cloud Foundry Eclipse Plugin is an extension that enables Cloud Foundry users to deploy and manage Java and Spring applications on a Cloud Foundry instance from Eclipse or Spring Tools Suite (STS).

The plugin supports Eclipse v3.8 and v4.3 (a Java EE version is recommended) and STS 3.0.0 and later.

This guide has instructions for installing and using v1.5.1 of the plugin, which is compatible with Cloud Foundry v2. These instructions assume you are using Eclipse.

You can use the plugin to:

 * Deploy applications from an Eclipse workspace to a running Cloud Foundry instance. The plugin supports Java/JVM applications and frameworks, such as:
  * Spring
  * Java Web
  * Java standalone
  * Grails
  * Lift
 * Create, bind, and unbind services.
 * View and manage deployed applications and services.
 * Start and stop applications.

 v1.5.1 of the plugin provides several new features:
  * Custom buildpack support - When you deploy an application using the plugin, you can supply the URL of a custom buildpack.
  * Separately defined host and domain - In this version of the plugin, you specify the components (host and domain) of an application URL separately, rather than as a complete URL.
  * Cloud Foundry server cloning - v1.5.1 of the plugin makes it easier to work with multiple Cloud Foundry spaces. After configuring a first Cloud Foundry server instance using the plugin, you can use the new **Clone Server** command to create additional server instances that target other Cloud Foundry spaces.

Install Cloud Foundry Eclipse Plugin
------------------------------------

If you have a previous version of the Cloud Foundry Eclipse Plugin installed, uninstall it before installing a new version. To uninstall the plugin:

 1. Choose **About Eclipse** from the Eclipse menu and click **Installation Details**.
 2. On the **Installation Details**, select the previous version of the plugin and click **Uninstall**.

 Follow the instructions appropriate for your environment:

  * [Install the Cloud Foundry Plugin from the Eclipse Marketplace](#eclipse_market)
  * [Install from a Local Repository](#install-local)

### <a id='eclipse_market'></a>Install the Cloud Foundry Plugin from the Eclipse Marketplace ###

Follow these instructions to install the Cloud Foundry Eclipse Plugin to Eclipse from the Eclipse Marketplace.

 1. Start Eclipse.
 2. Select **Eclipse Marketplace** from the Eclipse **Help** menu.
 3. On the marketplace window, enter "Cloud Foundry" in the **Find** field and click **Go**.
 4. In the search results, click the **Install** control next to the listing for Cloud Foundry Integration.

 <%= image_tag("guide/eclipse-marketplace.png") %>

 5. The **Confirm Selected Features** window lists the plugin - "Cloud Foundry Integration for Eclipse" - and the optional "SpringSource UAA Integration" component, which reports tool usage data, anonymously. If you do not want your plugin usage statistics to be reported, de-select the UAA component before clicking **Confirm**.

  <%= image_tag("guide/confirm-selected-features.png") %>

 6. The **Review Licenses** window appears. Click "I accept the terms of the license agreement" and click **Finish**.
 7. The **Software Updates** window appears. Click **Yes** to restart Eclipse.

### <a id='install-local'></a>Install from a Local Repository ###

If you need to install the Cloud Foundry Eclipse Plugin locally, rather than via the internet, you can download the source and create a repository that you can copy to the target machine and then install from it.

*Step 1: Obtain the plugin source from GitHub.*

  * You can download archived source code for released versions of the plugin from

 https://github.com/SpringSource/eclipse-integration-cloudfoundry/releases.
  * If you want the very latest source code for the plugin, clone the project repository:

   ```
   git clone https://github.com/SpringSource/eclipse-integration-cloudfoundry
   ```

*Step 2: Build repository.*

 Unzip the downloaded archive, change directory to the root directory and run this command in the shell:

  `mvn -Pe37 package`

Transfer `org.cloudfoundry.ide.eclipse.server.site/target/site` to the machine where you want to install the plugin. If you zip it up, be sure to unzip prior to installation.

*Step 3: Install from local repository.*

On the machine running Eclipse:

 1. In Eclipse, select **Install New Software** from the **Help** menu.
 1. On the **Available Software** window, click **Add** to the right of the **Work with** field.
 1. On the **Add Repository** window, enter a name for the repository, for example “Cloud Foundry Integration”, and click **Local**.
 1. On the **Open** window, browse to `org.cloudfoundry.ide.eclipse.server.site/target/site` and click **Open**.
 1. On the **Add Repository** window, click **OK**.
 1. On the **Available Software** window, checkmark: “Core/Cloud Foundry Integration” and “Resources/Cloud Foundry Integration” and click **Next**.
 1. On the **Review Licenses** window, click “I accept the terms of the license agreement” and click **Finish**.
<br>

## <a id='cloud-foundry-server'></a>Create a Cloud Foundry Server ##

This section has instructions for configuring a server resource that will represent a target Cloud Foundry space. You will create a server for each space in Cloud Foundry to which you will deploy applications. Once you create your first Cloud Foundry service instances using the instructions below, you can create additional instances using the [Clone Server](#clone) feature.

 1. Right-click the **Servers** view and select **New > Server**.
 2. In the **Define a New Server** window, expand the **Pivotal** folder, select **Cloud Foundry**, and click **Next**.

     **Note:** Do not enter values for **Server host name** or **Server Runtime Environment**. These fields are unused and will be removed in a future version of the plugin.

      <%= image_tag("guide/define-new-server.png") %>

 1. On the **Cloud Foundry Account** window, if you already have a Cloud Foundry account, enter the email account and password you use to log on to Cloud Foundry and click **Validate Account**.

  If you do not have a Cloud Foundry account, you can click **Pivotal CF Signup** to get one and complete this procedure after your account is established.

      <%= image_tag("guide/cloud-foundry-account.png") %>

 1. The **Cloud Foundry Account** window is refreshed and displays a message indicating whether or not your credentials were valid --- if they were, click **Next**.

       <%= image_tag("guide/new-server.png") %>

 1. On the **Organizations and Spaces** window, select the space you want to target, and click **Finish**.

    **Note:** If you do not select a space, the server will be configured to connect to the default space, which is the first encountered in a list of your spaces.


 1. Once you have successfully configured the Pivotal Cloud Foundry server, it will appear in the **Servers** view of the Eclipse or STS user interface. To familiarize yourself with the plugin user interface, see [About the Plugin User Interface](#plugin-ui).

## <a id='plugin-ui'></a>About the Plugin User Interface ##

The paragraphs below describe the Cloud Foundry Eclipse plugin user interface. If you do not see the tabs described below, select the Pivotal Cloud Foundry server in the **Servers** view. To expose the Servers view, ensure that you are using the Java perspective, then select **Window > Show View > Other > Server > Servers**.

The Cloud Foundry editor, outlined in red in the screenshot below, is the primary plugin user interface.
 Some workflows involve interacting with standard elements of the Eclipse user interface, such as the **Project Explorer** and the **Console** and **Servers** views.

Note that the Cloud Foundry editor allows you to work with a single Cloud Foundry space; each space is represented by a distinct server instance in the **Servers** view (B). Multiple editors, each targeting a different space, can be open simultaneously. However, only one editor targeting a particular Cloud Foundry server instance can be open at a time.

### <a id='overview-tab'></a>Overview Tab ###

 The follow panes and views are present when the **Overview** tab is selected:

 * A --- The **Package Explorer** view lists the projects in the current workspace.
 * B --- The **Servers** view lists server instances configured in the current workspace. A server of type "Pivotal Cloud Foundry" represents a targeted space in a Cloud Foundry instance.
 * C --- The **General Information** pane.
 * D --- The **Account Information** pane lists your Cloud Foundry credentials and the target organization and space. The pane includes these controls:
     * **Clone Server** -- Use to create additional Pivotal Cloud Foundry server instances. You must configure a server instance for each Cloud Foundry space you wish to target.
     * **Change Password** -- Use to change your Cloud Foundry password.
     * **Validate Account** -- Use to verify your currently configured Cloud Foundry credentials.
     * **Pivotal CF Signup** -- Use to sign up for a Cloud Foundry account.
 * E --- The **Server Status** pane shows whether or not you are connected to the target Cloud Foundry space, and the **Disconnect** and **Connect** controls.
 * F --- The **Console** view displays status messages when you perform an action such as deploying an application. To expose the Console view, select **Window > Show View > Console**.
 * G --- The **Remote Systems** view allows you to view the contents of a file that is part of a deployed application. To expose the Remote Systems view, select **Window > Show View > Other > Remote Systems > Remote Systems**.

 <%= image_tag("guide/ui-eclipse-overview.png") %>


### <a id='apps-services-tab'></a>Applications and Services Tab ###

 The follow panes are present when the **Applications and Services** tab is selected:

 * H --- The **Applications** pane lists the applications deployed to the target space.
 * I ---  The **Services** pane lists the services provisioned in the targeted space.
 * J ---  The **General** pane displays the following information for the application currently selected in the **Applications** pane:
       * **Name**
       * **Mapped URLs** -- Lists URLs mapped to the application. You can click a URL to open a browser to the application within Eclipse (or STS); and click the pencil icon to add or remove mapped URLs.
       * **Memory Limit** -- The amount of memory allocated to the application. You can use the pull-down to change the memory limit.
       * **Instances** -- The number of instances of the application that are deployed. You can use the pull-down to change number of instances.
       * **Start**, **Stop**, **Restart**, **Update and Restart** -- he controls that appear depend on the current state of the application. The **Update and Restart** command will attempt an incremental push of only those application resources that have changed. It will not perform a full application push.

 * K --- The **Services** pane lists services that are bound to the application currently selected in the **Applications** pane. Note the icon in the upper right corner of the pane -- it allows you to create a service.

 <%= image_tag("guide/ui-eclipse-apps-services.png") %>

Refer to the Cloud Foundry documentation at [docs.cloudfoundry.com](http://docs.cloudfoundry.com/docs/using/managing-apps/ide/sts.html) for more information about using the Cloud Foundry Eclipse plugin.

## <a id='known_issues'></a>Known Issues and Important Tips for this Release ##

 Version 0.3.1 of Pivotal CF includes the following known issues:

 * vSphere folder names with slashes in the name will cause failures.
 * A vCenter password starting with a special character will cause failures.
 * You must use the UAAC gem to create additional admin users or change the admin user's password.
 * Your app domain must be different than your system domain to protect against deploying apps called "uaa."
 * The Cloud Controller blobstore will continue to grow as users deploy apps. Garbage collection of the blobstore will be forthcoming in a subsequent release.
 * **Add Services** and **Marketplace** features of the Console are not functional.
 * Cloud Foundry deployments provisioned to a resource pool cannot be deleted using the Pivotal CF interface and must be deleted using vCenter.
 * Clicking **Install** with empty vSphere settings will raise an exception.
 * If vSphere performance data is not available, a deploy will result in a divide by zero error.
 * HTTPS is turned off for Cloud Foundry in this release.
 * The network you use must be outside of any folders in vCenter.
 * If the install fails, check vSphere to ensure that the IP ranges you requested are still available.


